<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="utf-8">
<title>DefaultMessage (AE3 ACM SAPI)</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DefaultMessage (AE3 ACM SAPI)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../mwm/email/BodySigned.html" title="class in mwm.email"><span class="strong">Prev Class</span></a></li>
<li><a href="../../mwm/email/DigestBody.html" title="class in mwm.email"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?mwm/email/DefaultMessage.html" target="_top">Frames</a></li>
<li><a href="DefaultMessage.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">mwm.email</div>
<h2 title="Class DefaultMessage" class="title">Class DefaultMessage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>mwm.email.DefaultMessage</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, <a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">DefaultMessage</span>
extends java.lang.Object
implements <a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a>, java.io.Serializable</pre>
<div class="block">This class models a default implementation of the Message interface. It
 denotes an email message using the MIME standard. This means the message
 supports attachments, multiple bodies, different character sets and so on.
 The MIME message standard can be found in RFC 1521 / 1522.
 <p>
 
 The constructor of this class requires a Body object. This is because by
 default the constructor cannot know the supposed content of the message. Of
 this it follows that to create a valid message you have to: 1) create the
 body content of you message, and 2) create the actual message to wrap around
 the body.
 <p>
 
 The default recipient handler used by this class handles every recipient as a
 part of the message header. It will try to enforce the use of the
 AddressField header field subclass for all recipient related header fields.
 This means that is you instanciate a message using a body where there already
 exists recipients, the recipient handler will attempt to convert the fields
 of the header to AddressField objects if it can. However, it can be noted
 that this is a possible bug source: Should the header field which the
 recipient handler tries to convert to an AddressField contain an invalid
 address we have a problem. The recipient handler will ty to ignore this and
 simply remove the invalid address, should this behavior not be acceptable,
 users are encouraged to provide their own recipient handler implementations.
 <p>
 
 The default recipient handler uses the "Q" encoding for all address fields
 and takes a character set parameter in the contructor. This character set
 must be useable by Java's output stream writer methods. A simple way to
 determine if a character set name is acceptable is to try to create a new
 String object using a byte array like this:
 
 <pre>
 try {
        new String( new byte[0], &quot;yourencodingname&quot; );
 } catch (final UnsupportedEncodingException e) {
 }
 </pre>
 
 The EmailMessage implements the Serializable interface to provide a simple
 storage mechanism. However: Impementors should try to store the message as
 text as far as possible since this makes the storage more easily parsed by
 human operators.
 <p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Lars J. Nilsson</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../serialized-form.html#mwm.email.DefaultMessage">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../mwm/email/DefaultMessage.html#DefaultMessage(mwm.email.Body, java.nio.charset.Charset)">DefaultMessage</a></strong>(<a href="../../mwm/email/Body.html" title="class in mwm.email">Body</a>&nbsp;messageBody,
              java.nio.charset.Charset&nbsp;defaultCharset)</code>
<div class="block">Construct a new message object with a default recipient handler operating
 on the provided character set.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.Object&gt;</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getAttachments()">getAttachments</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../mwm/email/Body.html" title="class in mwm.email">Body</a></code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getMessageBody()">getMessageBody</a></strong>()</code>
<div class="block">Get the message body.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getMessageText()">getMessageText</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../mwm/email/EmailAddress.html" title="class in mwm.email">EmailAddress</a></code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getOriginator()">getOriginator</a></strong>()</code>
<div class="block">Get the sender address if available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../mwm/email/RecipientHandler.html" title="interface in mwm.email">RecipientHandler</a></code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getRecipientHandler()">getRecipientHandler</a></strong>()</code>
<div class="block">Get the recipient handler responsible for this message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../mwm/email/Recipient.html" title="class in mwm.email">Recipient</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getRecipients()">getRecipients</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#getSubject()">getSubject</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#toString()">toString</a></strong>()</code>
<div class="block">Convert message to string.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#write(java.io.OutputStream)">write</a></strong>(java.io.OutputStream&nbsp;out)</code>
<div class="block">Write the complete message to an output stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../mwm/email/DefaultMessage.html#writeHeader(java.io.OutputStream)">writeHeader</a></strong>(java.io.OutputStream&nbsp;out)</code>
<div class="block">Write the message header to an output stream.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultMessage(mwm.email.Body, java.nio.charset.Charset)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultMessage</h4>
<pre>public&nbsp;DefaultMessage(<a href="../../mwm/email/Body.html" title="class in mwm.email">Body</a>&nbsp;messageBody,
              java.nio.charset.Charset&nbsp;defaultCharset)</pre>
<div class="block">Construct a new message object with a default recipient handler operating
 on the provided character set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>messageBody</code> - </dd><dd><code>defaultCharset</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAttachments()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttachments</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;getAttachments()
                                                                throws java.io.IOException</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getAttachments()">getAttachments</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>map</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getMessageBody()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageBody</h4>
<pre>public&nbsp;<a href="../../mwm/email/Body.html" title="class in mwm.email">Body</a>&nbsp;getMessageBody()</pre>
<div class="block">Get the message body. This is also the only way of getting a reference to
 the message header obejct which can be queried for subjects, recipients,
 dates and so on.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getMessageBody()">getMessageBody</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>body</dd></dl>
</li>
</ul>
<a name="getMessageText()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageText</h4>
<pre>public&nbsp;java.lang.String&nbsp;getMessageText()
                                throws java.io.IOException</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getMessageText()">getMessageText</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>string</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getOriginator()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOriginator</h4>
<pre>public&nbsp;<a href="../../mwm/email/EmailAddress.html" title="class in mwm.email">EmailAddress</a>&nbsp;getOriginator()</pre>
<div class="block">Get the sender address if available. The address will be parsed from the
 header fields "From" or "Sender". The "From" field represents a human
 sender and must correspond to a valid email box. The "Sender" field is
 only needed if a message does not contain a single human sender but
 rather comes from a group, list or any other process.
 <p>
 
 This method returns null if none of those fields are set or no email
 address could be parsed from their value.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getOriginator()">getOriginator</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>address</dd></dl>
</li>
</ul>
<a name="getRecipientHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecipientHandler</h4>
<pre>public&nbsp;<a href="../../mwm/email/RecipientHandler.html" title="interface in mwm.email">RecipientHandler</a>&nbsp;getRecipientHandler()</pre>
<div class="block">Get the recipient handler responsible for this message. The handler
 object is responsible for mapping message recipients to and from the
 message object. The recipient handler is also responsible for the
 recipient presentation in the header.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getRecipientHandler()">getRecipientHandler</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>handler</dd></dl>
</li>
</ul>
<a name="getRecipients()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRecipients</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../mwm/email/Recipient.html" title="class in mwm.email">Recipient</a>&gt;&nbsp;getRecipients()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getRecipients()">getRecipients</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>list</dd></dl>
</li>
</ul>
<a name="getSubject()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSubject</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSubject()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#getSubject()">getSubject</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>string</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Convert message to string. This method returns null if the message
 writing should fail for some reason.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#toString()">toString</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="write(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(java.io.OutputStream&nbsp;out)
           throws java.io.IOException</pre>
<div class="block">Write the complete message to an output stream. This method should write
 the content in a protocoll specific manner to the stream. The message
 will start with a header section followed by one ore more bodies followed
 by a canonical line break;</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#write(java.io.OutputStream)">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="writeHeader(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeHeader</h4>
<pre>public&nbsp;void&nbsp;writeHeader(java.io.OutputStream&nbsp;out)
                 throws java.io.IOException</pre>
<div class="block">Write the message header to an output stream. The header will be written
 to the stream followed by a canonical line break.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mwm/email/Message.html#writeHeader(java.io.OutputStream)">writeHeader</a></code>&nbsp;in interface&nbsp;<code><a href="../../mwm/email/Message.html" title="interface in mwm.email">Message</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../mwm/email/BodySigned.html" title="class in mwm.email"><span class="strong">Prev Class</span></a></li>
<li><a href="../../mwm/email/DigestBody.html" title="class in mwm.email"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?mwm/email/DefaultMessage.html" target="_top">Frames</a></li>
<li><a href="DefaultMessage.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2000-2011 -= MyX =- (http://myx.ru). All Rights Reserved.</i></small></p>
</body>
</html>
