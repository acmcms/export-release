<%
%><%CODE: 'ACM.ECMA' %>
	editor = new VlapanRichedit( editorName = 'ckeditor' );
	editorName = "ckeditor1";
	requireCss = Create.set();

	requireJs = [];
//	requireJs.add("");
<%/CODE%><%

%><%OUTPUT: head %><%
	%><!-- YUI CSS Reset --><% 
	%><link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.0.0/build/cssreset/reset-min.css"/><%
	%><%= editor.init() %><%
	%><script type="text/javascript">
		function getData(){
			var data = CKEDITOR.instances.<%= editorName %>.getData();
			try{
				console.log('CKEDITOR.instances["<%= editorName %>"].getData()', data);
			}catch(err){
				/* ignore */
			}
			try{
				return data;
			}catch(err){
				return null;
			}
		}
		CKEDITOR.on('instanceReady',function( evt ){
			evt.editor.execCommand('maximize');
		});
		CKEDITOR.config.allowedContent = true;
	</script><%
	%><style type="text/css"><%
		%>html, body {width:100%;height:100%;}<%
	%></style><%
%><%/OUTPUT%><%

%><%OUTPUT: body %><%
	%><body><%
		%><%= VlapanRichedit.getModalForm( editorName ) %><%
		%><%= editor.replace( id = editorName ) %><%
	%></body><%
%><%/OUTPUT%><%

%><%RETURN: {
		title		: "CKEditor modal",
		template	: "html-page",
		requireCss	: requireCss,
		requireJs	: requireJs,
		head		: head,
		body		: body
	} %><%
%>