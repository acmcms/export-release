<%EXEC: params = Request.getParameters() || {} %>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set     -->
<!-- the browser's rendering engine into           -->
<!-- "Quirks Mode". Replacing this declaration     -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout.   -->

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>vlapan Finder GWT CKEditor Integration</title>

<script type="text/javascript" language="javascript">
	// standard routine v2.0
	function parseUrlEncoded( url ){
		var result = {};
		var array = url.split('&');
		for( var i in array ){
			var current = array[i];
			var index = current.indexOf('=');
			if( index > 0 ){
				var key = current.substring(0, index);
				var value = decodeURIComponent(current.substring(index+1));
				var ready = result[ key ];
				if( ready == undefined ){
					result[ key ] = value;
				}else{
					if( isArray( ready ) ){
						ready.push( value );
					}else{
						result[ key ] = [ ready, value ];
					}
				}
			}
		}
		return result;
	}
	var map = parseUrlEncoded(window.location.href);
</script>
<script type="text/javascript" language="javascript">
		var treeWidget = <%= VlapanTreeData.get( example = true ) %>;
		var settings = {requestUrl:"/!/skin/vlapan-hierarchy-data-json/data.json?cNode=",
				callback:function mycallback(url){
					window.opener.CKEDITOR.tools.callFunction( map.CKEditorFuncNum, url );
					window.close();
				} 
		};
</script>
<script type="text/javascript" language="javascript"
	src="/!/skin/vlapan-hierarchy-gwt-finder/$files/finder/finder.nocache.js"></script>
</head>
<body>
<!-- OPTIONAL: include this if you want history support -->
<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
	style="position: absolute; width: 0; height: 0; border: 0"></iframe>
<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
<noscript>
<div
	style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
Your web browser must have JavaScript enabled in order for this
application to display correctly.</div>
</noscript>
<div id="viewPort" style="width:100%;height:100%;"></div>
</body>
</html>